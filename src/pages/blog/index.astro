---
import MainLayout from "../../layouts/main.astro"
import { getCollection } from "astro:content"
import type { CollectionEntry } from "astro:content"
import BlogCardBig from "../../components/blogcardbig.astro"
import BlogCardSmall from "../../components/blogcardsmall.astro"

const blogposts: CollectionEntry<'blog'>[] = (await getCollection('blog'))
  .sort((a: CollectionEntry<'blog'>, b: CollectionEntry<'blog'>) => 
    b.data.published.valudOf() - a.data.pubished.valueOf())
---

<MainLayout>
  <h2>THE BLOG</h2>
  <div class="max-w-screen-xl mx-auto p-5 sm:p-10 md:p-16 relative">  
    <div class="grid grid-cols-1 sm:grid-cols-12 gap-10">
      {blogposts.map((entry, index) => (
        index == 0 && <BlogCardBig entry={entry} />
      <div class="sm:col-span-6 lg:col-span-4">
        <BlogCardSmall entry={entry} />
      </div>
      ))}
    </div>
  </div>
</MainLayout>
